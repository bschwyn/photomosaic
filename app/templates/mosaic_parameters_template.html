

<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Uploaded Picture</title>

        <script src="https://code.jquery.com/jquery-1.10.2.js"></script>

        <script>
            function isInt(value) {
                return !isNaN(value) &&
                parseInt(Number(value)) == value &&
                !isNaN(parseInt(value, 10));
            }
        </script>

        <script type="text/javascript">


            function validate() {
                try {
                  var data = $('#myFormID').serializeArray();
                  var width = data[0]["value"];
                  var height = data[1]["value"];
                  var scale = data[2]["value"];

                  var works = true

                  if (!isInt(scale) || scale < 1 || scale > 300) {
                      var message = "enter a scale from 1 to 10"
                      var works = false
                  }
                  if (!isInt(height) || height < 1 || height > 300) {
                      var message = "enter a height from 1 to 300"
                      var works = false
                  }
                  if (!isInt(width) || width < 1 || width >300) {
                      var message = "enter a width from 1 to 300"
                      var works = false
                  }

                  alert(message)
                  if (!works) {
                      return false
                  ]
                }
                catch(err) {
                    alert(err.message);
                    return false
                }
            }
        </script>
    </head>
    <body>
    <title>Hello</title>
        {% if filename %}


        <h1><img src="{{ url_for('static', filename=filename) }}"> this is the uploaded image </h1>
        <form action = "http://localhost:5000/create_mosaic/{{filename}}/" name = "myForm" id="myFormID" onsubmit="return validate();" method = "POST"
            enctype = "multipart/form-data">
            <input type = "number" name="width" maxlength="100000" placeholder="number of images across"/>
            <input type = "number" name="height" maxlength = "100000" placeholder="number of images down"/>
            <input type = "number" name="scale" maxlength = "100000" placeholder="relative size of final image" />
            <input type = "submit" value="submit"/>
        </form >
        {% else %}
        <h1>no image for whatever reason</h1>
        {% endif %}
  </body>
</html>